<style>
  .fullHeight {
    min-height: 90vh;
    margin-top: 20px;
  }
</style>
<section class="section fullHeight">
  <br>
  <h1 class="title is-3">Recordatorios</h1>
  <div class="container">
    <div class="test1 columns is-vcentered ml-5">
      <div id="pg" class="column" style="font-size: large;">
      </div>
    </div>
  </div>

</section>


<script>
  function calculateDaysUntilFutureDate(futureDate) {
    const currentDate = new Date();
    const endDate = new Date(futureDate);
    const timeDifference = endDate - currentDate;
    const daysDifference = Math.ceil(timeDifference / (1000 * 3600 * 24));
    return daysDifference;
  }
  
  const prueba = `<%= pruebaGrupal %>`;
  const zoomIndividual = `<%= zoomIndividual %>`;
  const limitePrueba = `<%= limitePrueba %>`;  

  if (prueba) {
    let futureDate = `<%= pruebaGrupal.toISOString().split('T')[0] %>`;
    const daysLeft = calculateDaysUntilFutureDate(futureDate);
    if(daysLeft >= 0){
      const pg = document.getElementById("pg");
      pg.innerHTML += `<li>Aplicación de prueba grupal: ${futureDate} (${daysLeft} días restantes)</li><br>`;
    }
  }

  if (zoomIndividual) {
    const futureDate = `<%= zoomIndividual.toISOString().split('T')[0] %>`;
    const daysLeft = calculateDaysUntilFutureDate(futureDate);
    if(daysLeft >= 0){
      const pg = document.getElementById("pg");
      pg.innerHTML += `<li>Entrevista individual: ${futureDate} (${daysLeft} días restantes)\ <br><strong>Recuerda subir tu CV y Kardex antes de la Entrevista</strong></li><br>`;
    }
  }

  if (limitePrueba) {
    const futureDate = `<%= limitePrueba.toISOString().split('T')[0] %>`;
    const daysLeft = calculateDaysUntilFutureDate(futureDate);
    if(daysLeft >= 0){
      const pg = document.getElementById("pg");
      pg.innerHTML += `<li>Limite para realizar las pruebas: ${futureDate} (${daysLeft} días restantes)</li>`;
    }
  }
</script>